<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@500;600;700&family=Zen+Kaku+Gothic+New:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../src/form2/style.css" />
    <script>
      ;(() => {
        const CACHE_KEY = 'oisoya_review_config_cache'
        const ensureLink = (rel) => {
          const existing = document.querySelector(`link[rel="${rel}"]`)
          if (existing) return existing
          const link = document.createElement('link')
          link.setAttribute('rel', rel)
          document.head.appendChild(link)
          return link
        }
        const applyIcon = (href) => {
          if (!href) return
          ensureLink('icon').setAttribute('href', href)
          ensureLink('shortcut icon').setAttribute('href', href)
          ensureLink('apple-touch-icon').setAttribute('href', href)
        }
        try {
          const raw = window.localStorage.getItem(CACHE_KEY)
          if (!raw) return
          const cached = JSON.parse(raw)
          const branding = cached?.branding || {}
          const icon = branding.logoDataUrl || branding.faviconDataUrl || ''
          if (icon) {
            applyIcon(icon)
          }
        } catch {
          // noop
        }
      })()
    </script>
    <title>アンケートフォーム1 - SORA Prompt Generator</title>
  </head>
  <body>
    <div id="form2-app" data-form-key="form1">
      <noscript>
        <p style="padding:1rem; text-align:center;">JavaScriptを有効にしてご利用ください。</p>
      </noscript>
      <main class="form2">
        <header class="form2__header">
          <p class="form2__brand" data-role="brand">
            <img class="form2__brand-logo" data-role="brand-logo" alt="SORA Prompt Generator ロゴ" hidden />
            <span data-role="brand-text">SORA Prompt Generator</span>
          </p>
          <div class="form2__menu" data-role="user-menu">
            <button
              type="button"
              class="form2__menu-trigger"
              data-role="user-menu-trigger"
              aria-expanded="false"
              aria-controls="user-menu-panel"
              aria-label="ユーザーメニュー"
            >
              ≡
            </button>
            <div class="form2__menu-panel" id="user-menu-panel" data-role="user-menu-panel" aria-hidden="true">
              <ul class="form2__menu-list">
                <li><a href="/user/?tab=admin-settings" data-role="user-menu-link" data-user-tab-target="admin-settings">ユーザー情報</a></li>
                <li><a href="https://sora-prompt-generator.netlify.app/reference/" data-role="user-menu-link">参考プロンプト</a></li>
                <li><a href="https://sora-prompt-generator.netlify.app/billing/" data-role="user-menu-link">お支払い情報</a></li>
              </ul>
            </div>
          </div>
        </header>
        <section class="form2__questions" data-role="question-list"></section>
        <section class="form2__actions">
          <button type="button" class="form2__button" data-role="submit">生成ページへ進む</button>
        </section>
        <p class="form2__status" data-role="status" hidden></p>
      </main>
    </div>
    <div class="app-loader" data-role="app-loader" aria-live="polite" aria-busy="true">
      <div class="app-loader__inner">
        <span class="app-loader__spinner" aria-hidden="true"></span>
        <p class="app-loader__text">ページを読み込み中です…</p>
      </div>
    </div>
    <script type="module" src="../src/form2/main.js"></script>
  </body>
</html>
