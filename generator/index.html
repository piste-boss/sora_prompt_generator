<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Outfit:wght@500;600;700&family=Zen+Kaku+Gothic+New:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../src/generator/style.css" />
    <script>
      ;(() => {
        const CACHE_KEY = 'oisoya_review_config_cache'
        const ensureLink = (rel) => {
          const existing = document.querySelector(`link[rel="${rel}"]`)
          if (existing) return existing
          const link = document.createElement('link')
          link.setAttribute('rel', rel)
          document.head.appendChild(link)
          return link
        }
        const applyIcon = (href) => {
          if (!href) return
          ensureLink('icon').setAttribute('href', href)
          ensureLink('shortcut icon').setAttribute('href', href)
          ensureLink('apple-touch-icon').setAttribute('href', href)
        }
        try {
          const raw = window.localStorage.getItem(CACHE_KEY)
          if (!raw) return
          const cached = JSON.parse(raw)
          const branding = cached?.branding || {}
          const icon = branding.logoDataUrl || branding.faviconDataUrl || ''
          if (icon) {
            applyIcon(icon)
          }
        } catch {
          // noop
        }
      })()
    </script>
    <title>SORA Prompt Generator</title>
  </head>
  <body>
    <div id="generator-app" data-prompt-key="page1" data-tier="beginner">
      <main class="generator">
        <header class="generator__header">
          <p class="generator__brand" data-role="brand">
            <img class="generator__brand-logo" data-role="brand-logo" alt="SORA Prompt Generator ロゴ" hidden />
            <span data-role="brand-text">SORA Prompt Generator</span>
          </p>
          <p class="generator__page-tag">生成ページ</p>
          <p class="generator__lead">生成されたプロンプトをSORAにコピペして動画を生成してください。</p>
        </header>
        <section class="generator__controls">
          <button type="button" class="generator__button" data-role="generate">プロンプト生成</button>
          <p class="generator__hint">生成には数秒かかる場合があります。</p>
        </section>
        <section class="generator__output">
          <label class="generator__output-label" for="generated-text">SORA Prompt</label>
          <textarea id="generated-text" class="generator__textarea" readonly></textarea>
        </section>
        <section class="generator__actions">
          <button type="button" class="generator__action-button" data-role="copy">COPY</button>
          <span class="generator__link-wrapper">
            <a href="#" target="_blank" rel="noopener noreferrer" data-role="maps-link">Go to SORA</a>
          </span>
        </section>
        <p class="generator__status" data-role="status" hidden></p>
      </main>
    </div>
    <div class="app-loader" data-role="app-loader" aria-live="polite" aria-busy="true">
      <div class="app-loader__inner">
        <span class="app-loader__spinner" aria-hidden="true"></span>
        <p class="app-loader__text">ページを読み込み中です…</p>
      </div>
    </div>
    <script type="module" src="../src/generator/main.js"></script>
  </body>
</html>
