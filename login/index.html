<!doctype html>
<html lang="ja">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;600;700&family=Zen+Maru+Gothic:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="../src/admin/style.css" />
    <link rel="stylesheet" href="../src/login/style.css" />
    <script>
      ;(() => {
        const CACHE_KEY = 'oisoya_review_config_cache'
        const ensureLink = (rel) => {
          const existing = document.querySelector(`link[rel="${rel}"]`)
          if (existing) return existing
          const link = document.createElement('link')
          link.setAttribute('rel', rel)
          document.head.appendChild(link)
          return link
        }
        const applyIcon = (href) => {
          if (!href) return
          ensureLink('icon').setAttribute('href', href)
          ensureLink('shortcut icon').setAttribute('href', href)
          ensureLink('apple-touch-icon').setAttribute('href', href)
        }
        try {
          const raw = window.localStorage.getItem(CACHE_KEY)
          if (!raw) return
          const cached = JSON.parse(raw)
          const branding = cached?.branding || {}
          const icon = branding.logoDataUrl || branding.faviconDataUrl || ''
          if (icon) {
            applyIcon(icon)
          }
        } catch {
          // noop
        }
      })()
    </script>
    <title>ログイン - SORA Prompt Generator</title>
  </head>
  <body>
    <div id="login-app">
      <noscript>
        <p style="padding:1rem; text-align:center;">JavaScriptを有効にしてご利用ください。</p>
      </noscript>
      <main class="login">
        <header class="login__header">
          <p class="login__badge">会員ログイン</p>
          <h1 class="login__title">アカウントにサインイン</h1>
          <p class="login__lead">登録済みのメールアドレスとパスワードを入力してください。</p>
        </header>
        <form id="login-form" class="login__form" novalidate>
          <div class="login__fields">
            <label class="login__field">
              <span class="login__label">メールアドレス</span>
              <input type="email" name="email" autocomplete="email" required />
            </label>
            <label class="login__field">
              <span class="login__label">パスワード</span>
              <input type="password" name="password" autocomplete="current-password" required />
            </label>
          </div>
          <div class="login__actions">
            <button type="submit" class="login__button" data-role="login-submit" disabled>ログイン</button>
            <button type="button" class="login__link-button" data-role="register-link">会員登録</button>
          </div>
        </form>
        <p class="login__status" data-role="status" hidden></p>
      </main>
    </div>
    <script type="module" src="../src/login/main.js"></script>
  </body>
</html>
